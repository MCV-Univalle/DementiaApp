{"ast":null,"code":"var Photo = require('../models/photo.model');\n\nvar mongoose = require('mongoose');\n\nexports[\"delete\"] = function (req, res) {\n  Photo.findByIdAndRemove({\n    _id: req.params.id\n  }).then(function (photo) {\n    res.send(photo);\n  });\n}; //Find all the images\n\n\nexports.findAll = function (req, res) {\n  Photo.find().then(function (photo) {\n    res.send(photo);\n  })[\"catch\"](function (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  });\n}; // Find all photos by a affectiveRelationId\n\n\nexports.findByAffectiveRelation = function (req, res) {\n  Photo.find({\n    affectiveRelation: req.params.affectiveId\n  }).exec(function (err, photos) {\n    if (err) {\n      if (err.kind === 'ObjectId') {\n        return res.status(404).send({\n          message: \"Photos not found with given Affective Relation Id \" + req.params.affectiveId\n        });\n      }\n\n      return res.status(500).send({\n        message: \"Error retrieving Photos with given Affective Relation Id \" + req.params.affectiveId\n      });\n    }\n\n    res.send(photos);\n  });\n};","map":null,"metadata":{},"sourceType":"script"}