{"ast":null,"code":"var _jsxFileName = \"/home/nathalia/Documentos/Memento/client/src/index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createBrowserHistory } from \"history\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport { Provider } from \"react-redux\";\nimport { persistor, store } from \"./store\";\nimport { PersistGate } from 'redux-persist/lib/integration/react';\nimport PrivateRoute from \"./views/LoginPage/PrivateRoute\";\nimport \"assets/scss/material-kit-react.scss?v=1.7.0\"; // pages in the project\n\nimport Components from \"views/Components/Components.jsx\";\nimport ProfilePage from \"views/ProfilePage/ProfilePage.jsx\";\nimport LoginPage from \"views/LoginPage/LoginPage.jsx\";\nimport RegisterPage from \"views/RegisterPage/RegisterPage.jsx\";\nimport ActivitiesPage from \"views/ActivitiesPage/ActivitiesPage\";\nimport QuestionsPage from \"views/QuestionsPage/QuestionsPage\";\nimport AlbumUploadPage from \"views/AlbumUploadPage/AlbumUploadPage\";\nimport FamiliarPage from \"views/FamiliarPage/FamiliarPage\";\nimport AlbumPage from \"views/AlbumPage/Albumpage\";\nimport SelectAlbumViewPage from \"views/SelectAlbumViewPage/AlbumViewPage\";\nimport AlbumCarouselPage from \"views/AlbumCarouselPage/AlbumCarouselpage\";\nvar hist = createBrowserHistory(); // Check for token to keep user logged in\n\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  var token = localStorage.jwtToken;\n  setAuthToken(token); // Decode token and get user info and exp\n\n  var decoded = jwt_decode(token); // Set user and isAuthenticated\n\n  store.dispatch(setCurrentUser(decoded));\n  console.log(setCurrentUser(decoded)); // Check for expired token\n\n  var currentTime = Date.now() / 1000; // to get in milliseconds\n\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser()); // Redirect to login\n\n    window.location.href = \"./login-page\";\n  }\n}\n\nReactDOM.render(React.createElement(Provider, {\n  store: store,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56\n  },\n  __self: this\n}, React.createElement(PersistGate, {\n  loading: null,\n  persistor: persistor,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 57\n  },\n  __self: this\n}, React.createElement(Router, {\n  history: hist,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58\n  },\n  __self: this\n}, React.createElement(Switch, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 59\n  },\n  __self: this\n}, React.createElement(Route, {\n  path: \"/login-page\",\n  component: LoginPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 60\n  },\n  __self: this\n}), React.createElement(Route, {\n  path: \"/register-page\",\n  component: RegisterPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 61\n  },\n  __self: this\n}), React.createElement(Route, {\n  path: \"/activities-page\",\n  component: ActivitiesPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62\n  },\n  __self: this\n}), React.createElement(Route, {\n  path: \"/questions-page\",\n  component: QuestionsPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 63\n  },\n  __self: this\n}), React.createElement(PrivateRoute, {\n  exact: true,\n  path: \"/albumUpload-page\",\n  component: AlbumUploadPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64\n  },\n  __self: this\n}), React.createElement(PrivateRoute, {\n  exact: true,\n  path: \"/familiarUpload-page\",\n  component: FamiliarPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65\n  },\n  __self: this\n}), React.createElement(PrivateRoute, {\n  exact: true,\n  path: \"/album-page\",\n  component: AlbumPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 66\n  },\n  __self: this\n}), React.createElement(PrivateRoute, {\n  exact: true,\n  path: \"/album-carousel-page\",\n  component: AlbumCarouselPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67\n  },\n  __self: this\n}), React.createElement(PrivateRoute, {\n  exact: true,\n  path: \"/select-view-album-page\",\n  component: SelectAlbumViewPage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 68\n  },\n  __self: this\n}), React.createElement(PrivateRoute, {\n  exact: true,\n  path: \"/profile-page\",\n  component: ProfilePage,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 69\n  },\n  __self: this\n}), React.createElement(Route, {\n  path: \"/\",\n  component: Components,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70\n  },\n  __self: this\n}))))), document.getElementById(\"root\"));","map":{"version":3,"sources":["/home/nathalia/Documentos/Memento/client/src/index.js"],"names":["React","ReactDOM","createBrowserHistory","Router","Route","Switch","jwt_decode","setAuthToken","setCurrentUser","logoutUser","Provider","persistor","store","PersistGate","PrivateRoute","Components","ProfilePage","LoginPage","RegisterPage","ActivitiesPage","QuestionsPage","AlbumUploadPage","FamiliarPage","AlbumPage","SelectAlbumViewPage","AlbumCarouselPage","hist","localStorage","jwtToken","token","decoded","dispatch","console","log","currentTime","Date","now","exp","window","location","href","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createBrowserHistory } from \"history\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport { Provider } from \"react-redux\";\nimport {persistor, store} from \"./store\";\nimport { PersistGate } from 'redux-persist/lib/integration/react';\n\nimport PrivateRoute from \"./views/LoginPage/PrivateRoute\";\n\n\nimport \"assets/scss/material-kit-react.scss?v=1.7.0\";\n\n// pages in the project\nimport Components from \"views/Components/Components.jsx\";\nimport ProfilePage from \"views/ProfilePage/ProfilePage.jsx\";\nimport LoginPage from \"views/LoginPage/LoginPage.jsx\";\nimport RegisterPage from \"views/RegisterPage/RegisterPage.jsx\";\nimport ActivitiesPage from \"views/ActivitiesPage/ActivitiesPage\";\nimport QuestionsPage from \"views/QuestionsPage/QuestionsPage\";\nimport AlbumUploadPage from \"views/AlbumUploadPage/AlbumUploadPage\";\nimport FamiliarPage from \"views/FamiliarPage/FamiliarPage\";\nimport AlbumPage from \"views/AlbumPage/Albumpage\";\nimport SelectAlbumViewPage from \"views/SelectAlbumViewPage/AlbumViewPage\";\nimport AlbumCarouselPage from \"views/AlbumCarouselPage/AlbumCarouselpage\";\n\n\nvar hist = createBrowserHistory();\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n  console.log(setCurrentUser(decoded));\n// Check for expired token\n  const currentTime = Date.now() /1000; // to get in milliseconds\n  \n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"./login-page\";\n  }\n}\n\n\nReactDOM.render(\n  <Provider store={store}>\n     <PersistGate loading={null} persistor={persistor}>\n      <Router history={hist}>\n        <Switch>\n          <Route path=\"/login-page\" component={LoginPage} />\n          <Route path=\"/register-page\" component={RegisterPage} />\n          <Route path=\"/activities-page\" component={ActivitiesPage} />\n          <Route path=\"/questions-page\" component={QuestionsPage} />\n          <PrivateRoute exact path=\"/albumUpload-page\" component={AlbumUploadPage} />\n          <PrivateRoute exact path=\"/familiarUpload-page\" component={FamiliarPage}/>\n          <PrivateRoute exact path=\"/album-page\" component={AlbumPage}/>\n          <PrivateRoute exact path=\"/album-carousel-page\" component={AlbumCarouselPage}/>\n          <PrivateRoute exact path=\"/select-view-album-page\" component={SelectAlbumViewPage}/>\n          <PrivateRoute exact path=\"/profile-page\" component={ProfilePage} />\n          <Route path=\"/\" component={Components} />\n        </Switch>\n      </Router>\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"]},"metadata":{},"sourceType":"module"}